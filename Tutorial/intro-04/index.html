<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        .canvas-container {
            float:left;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="600" height="500"></canvas>
    <canvas id="gallery" width="600" height="500"></canvas>

    <script src="fabric.js"></script>
    <script>
        var canvas = new fabric.Canvas('canvas');
        
        canvas.backgroundColor = '#eee';

        canvas.renderAll();

        canvas.isDrawingMode = true;


        canvas.on('mouse:up', function() {
            canvas.freeDrawingBrush.width = Math.random() * 10;
            canvas.freeDrawingBrush.color = '#'+parseInt(Math.random()*10).toString() + 
                                                parseInt(Math.random()*10).toString() + parseInt(Math.random()*10).toString();
        });

        var gallery = new fabric.Canvas('gallery');

        gallery.backgroundColor = '#aaa';

        gallery.renderAll();

        var circle = new fabric.Circle({
            radius: 50,
            fill: 'red'
        });

        circle.lockMovementX = true;
        circle.lockRotation = true;
        circle.lockScalingX = true;

        circle.hasBorders = false;
        circle.hasControls = false;

        var rect = new fabric.Rect({
            left: 100,
            top: 100,
            width: 100,
            height: 100,
        });
   
        rect.set({
            borderColor: 'red',
            cornerColor: 'green',
            cornerSize: 6,
            padding: 5
        });

        var rect2 = new fabric.Rect({
            left: 200,
            top: 200,
            width: 100,
            height: 100,
        });

        rect2.set({
            transparentCorners: false,
            cornerColor: 'blue',
            cornerStrokeColor: 'red',
            borderColor: 'red',
            cornerSize: 12,
            padding: 10,
            cornerStyle: 'circle',
            borderDashArray: [11, 9],
            stroke: 'red',
            strokeDashArray: [2,4 ,6],
            strokeWidth: 5
        });
        

        gallery.add(circle);

        gallery.add(rect);

        gallery.add(rect2);

        rect2.rotatingPointOffset = 50;
        rect2.uniScaleTransform = true;

        // gallery.selection = false;

        gallery.selectionColor = 'rgba(0,255,0,0.3)';
        gallery.selectionBorderColor = 'red';
        gallery.selectionLineWidth = 5;
        gallery.selectionDashArray = [5, 5];
        gallery.setBackgroundImage('my_image.png', gallery.renderAll.bind(gallery));

    </script>
</body>
</html>